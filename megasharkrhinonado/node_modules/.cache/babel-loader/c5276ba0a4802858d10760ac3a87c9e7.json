{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eli_s\\\\Desktop\\\\MEGroupProject\\\\megasharkrhinonado\\\\src\\\\Components\\\\PayPal\\\\PayPal.jsx\",\n    _s = $RefreshSig$();\n\nimport { PayPalScriptProvider, PayPalButtons, usePayPalScriptReducer } from \"@paypal/react-paypal-js\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  \"layout\": \"vertical\"\n};\nconst currency = \"GBP\";\n\nconst ButtonWrapper = _ref => {\n  _s();\n\n  let {\n    currency,\n    showSpinner,\n    amount,\n    movieTitle,\n    bookingDate,\n    bookingTime,\n    children,\n    seatSelected\n  } = _ref;\n  const [{\n    options,\n    isPending\n  }, dispatch] = usePayPalScriptReducer();\n  const navigate = useNavigate();\n\n  const bookingComplete = () => navigate(\"/BookingConfirmation\");\n\n  useEffect(() => {\n    dispatch({\n      type: \"resetOptions\",\n      value: { ...options,\n        currency: currency\n      }\n    });\n  }, [currency, showSpinner]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showSpinner && isPending && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 40\n    }, this), /*#__PURE__*/_jsxDEV(PayPalButtons, {\n      style: style,\n      disabled: false,\n      forceReRender: [amount, currency, style],\n      fundingSource: undefined,\n      createOrder: (data, actions) => {\n        return actions.order.create({\n          purchase_units: [{\n            amount: {\n              currency_code: currency,\n              value: amount\n            }\n          }]\n        }).then(orderId => {\n          console.log(orderId);\n          return orderId;\n        });\n      },\n      onApprove: function (data, actions) {\n        return actions.order.capture().then(function (details) {\n          const {\n            payer\n          } = details;\n          console.log({\n            payer\n          });\n          axios.post('http://localhost:3000/bookings/post', {\n            movieTitle: movieTitle,\n            email: details.payer.email_address,\n            date: bookingDate,\n            time: bookingTime,\n            children: children,\n            seatID: seatSelected,\n            payment: [{\n              amount: amount\n            }]\n          }).then(response => {\n            console.log(response);\n            console.log(details);\n          }).catch(error => {\n            console.log(error);\n          });\n          bookingComplete();\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ButtonWrapper, \"XJxzvLybQxg3M9TUtu/TKMG7bOI=\", false, function () {\n  return [usePayPalScriptReducer, useNavigate];\n});\n\n_c = ButtonWrapper;\nexport default function PayPal(_ref2) {\n  let {\n    amount,\n    movieTitle,\n    bookingDate,\n    bookingTime,\n    children,\n    seatSelected\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(PayPalScriptProvider, {\n      options: {\n        \"client-id\": \"test\",\n        components: \"buttons\",\n        currency: \"GBP\"\n      },\n      children: /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        currency: currency,\n        showSpinner: false,\n        amount: amount,\n        movieTitle: movieTitle,\n        bookingDate: bookingDate,\n        bookingTime: bookingTime,\n        children: children,\n        seatSelected: seatSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_c2 = PayPal;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ButtonWrapper\");\n$RefreshReg$(_c2, \"PayPal\");","map":{"version":3,"names":["PayPalScriptProvider","PayPalButtons","usePayPalScriptReducer","axios","useEffect","useNavigate","style","currency","ButtonWrapper","showSpinner","amount","movieTitle","bookingDate","bookingTime","children","seatSelected","options","isPending","dispatch","navigate","bookingComplete","type","value","undefined","data","actions","order","create","purchase_units","currency_code","then","orderId","console","log","capture","details","payer","post","email","email_address","date","time","seatID","payment","response","catch","error","PayPal","components"],"sources":["C:/Users/eli_s/Desktop/MEGroupProject/megasharkrhinonado/src/Components/PayPal/PayPal.jsx"],"sourcesContent":["import { PayPalScriptProvider, PayPalButtons, usePayPalScriptReducer } from \"@paypal/react-paypal-js\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nconst style = { \"layout\": \"vertical\" };\r\nconst currency = \"GBP\";\r\n\r\nconst ButtonWrapper = ({ currency, showSpinner, amount, movieTitle, bookingDate, bookingTime, children, seatSelected }) => {\r\n    const [{ options, isPending }, dispatch] = usePayPalScriptReducer();\r\n\r\n    const navigate = useNavigate();\r\n    const bookingComplete = () => navigate(\"/BookingConfirmation\");\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: \"resetOptions\",\r\n            value: {\r\n                ...options,\r\n                currency: currency,\r\n            },\r\n        });\r\n    }, [currency, showSpinner]);\r\n\r\n\r\n    return (<>\r\n        {(showSpinner && isPending) && <div className=\"spinner\" />}\r\n        <PayPalButtons\r\n            style={style}\r\n            disabled={false}\r\n            forceReRender={[amount, currency, style]}\r\n            fundingSource={undefined}\r\n            createOrder={(data, actions) => {\r\n                return actions.order\r\n                    .create({\r\n                        purchase_units: [\r\n                            {\r\n                                amount: {\r\n                                    currency_code: currency,\r\n                                    value: amount,\r\n                                },\r\n                            },\r\n                        ],\r\n                    })\r\n                    .then((orderId) => {\r\n                        console.log(orderId);\r\n                        return orderId;\r\n                    });\r\n            }}\r\n            onApprove={function (data, actions) {\r\n                return actions.order.capture().then(function (details) {\r\n                    const { payer } = details;\r\n                    console.log({ payer })\r\n                    axios.post('http://localhost:3000/bookings/post', {\r\n                        movieTitle: movieTitle,\r\n                        email: details.payer.email_address,\r\n                        date: bookingDate,\r\n                        time: bookingTime,\r\n                        children: children,\r\n                        seatID: seatSelected,\r\n                        payment: [{\r\n                            amount: amount\r\n                        }\r\n                        ]\r\n                    })\r\n                        .then(response => {\r\n                            console.log(response);\r\n                            console.log(details)\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(error);\r\n                        });\r\n\r\n                    bookingComplete();\r\n                })\r\n\r\n\r\n            }}\r\n        />\r\n    </>\r\n    );\r\n}\r\n\r\nexport default function PayPal({ amount, movieTitle, bookingDate, bookingTime, children, seatSelected }) {\r\n    return (\r\n        <>\r\n            <PayPalScriptProvider options={{\r\n                \"client-id\": \"test\",\r\n                components: \"buttons\",\r\n                currency: \"GBP\"\r\n            }}>\r\n                <ButtonWrapper\r\n                    currency={currency}\r\n                    showSpinner={false}\r\n                    amount={amount}\r\n                    movieTitle={movieTitle}\r\n                    bookingDate={bookingDate}\r\n                    bookingTime={bookingTime}\r\n                    children={children}\r\n                    seatSelected={seatSelected}\r\n                />\r\n            </PayPalScriptProvider>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}